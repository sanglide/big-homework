# 第三阶段需求规格说明文档

# ！！！！！！！3.3及以后都还没写！！！！！

## 1 . 引言

### 1.1 目的

本文档描述了影院系统的功能需求和非功能性需求。开发小组的软件系统实现与验证工作都将以此文档作为依据。

除特殊说明以外，该文档所包含的需求均为高优先级（第三阶段）需求。

### 1.2 范围

该系统是为NJU电影院开发的影院系统，开发的目标是在一二阶段的基础上，进一步帮助该影院处理日常的重点业务，包括影券管理等，同时用户可通过对系统的访问完成查看历史记录、退票等等功能。

通过影院系统的应用，期望为NJU影院提高销售员工的工作效率、降低运营成本、减少空座率、吸引更多顾客并增加用户互动、提高销售额和利润。

### 1.3 参考文献

- IEEE标准
- 影院系统用例描述文档（第一阶段）

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

当今的电影市场，采取影院和院线、发行、制片的票房分账模式，这几年渐渐向制片方倾斜，使得影院投资的回报期延长，增加了影院运营压力，影院运营的薄利化成为常态，加上影院同质化非常严重，造成一种困局：市场需求在加大，消费者的选择也更加细分化，但是符合观众需求的影院却很少。面对电影企业愈演愈烈的市场竞争，如何快速的占领一定的市场份额，寻找新的利润点至关重要，因此XXX影院希望能够在易于管理的基础上扩大影片放映的规模，同时增强与观众的互动性以契合观众需求。

该影院系统就是为满足XXX影院的新的业务发展要求而开发的，它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器采取实时通信的方式完成数据交换。同时特别注意，客户端有三种：客户使用的客户端、售票员使用的客户端和影院管理人员使用的客户端。

#### 2.1.2 业务需求

BR1:在系统使用六个月后，空座率、缺票率要减少50%

BR2:在系统使用六个月后，运营成本要降低15%。

```
范围：人力成本和影库管理

度量：检查平均员工数量和平均每100000元销售额的管理成本
```

BR3：在系统使用六个月后，销售额度提高20%（最可能情况）

```
最好情况：40%

最坏情况：10%
```

### 2.2 项目功能

SF1:进行影厅信息的增删改查，以适应影院的变化

SF2:赠送无门槛优惠券，刺激老顾客的购买力

SF3:在首页展示电影票房和最受欢迎电影的排行榜，向用户展示电影库存信息

SF4:用户能够查看历史消费记录，了解自己的每一笔订单

SF5:用户能够查看历史充值记录，了解自己的每一笔充值记录以及余额

|            |                                                              |
| ---------- | ------------------------------------------------------------ |
| 影院管理员 | 每个电影院分院都有1~2个管理员。他们负责在获得新电影上映权限后在系统上上架新电影，以及从距离电影上映还有7天起，开始每天统计最新的想看电影人数，为电影排片做准备。管理员的计算机操作技能较好，需要系统具有较强的数字处理能力。 |
| 观众       | 观众首先需要进行注册，登陆，可以查看电影详情，标记某电影为想看，根据日期、名称来搜索电影。因为观众使用系统的时间并不确定统一，系统需要根据不同时间来改变界面使得界面更加适应人眼。因为观众的年龄和视力有差异，系统应该具有调整界面字体大小的功能。有一些观众由于年龄原因，计算机操作技术一般，对线上售票系统的具体操作不太了解，因此希望系统的设计能尽量简洁易懂，指示明确，帮助这些观众完成他们想要完成的操作。 |
| 售票员     | 每个影院可以有数个售票员。他们负责帮助不使用客户端的客户购票。售票员的计算机操作技术一般。 |

### 2.4 约束

CON1:系统使用web界面

CON2:项目采用阶段性开发

CON3:在开发中，开发者要提交软件需求规格说明文档、设计描述文档测试报告

### 2.5 假设与依赖

AE1:在将上一阶段电影下架90%之前，下一批电影不会入库

AE2:影片的上架和下架基本保持平衡

## 3 详细需求描述

### 3.1 对外接口描述

#### 3.1.1 用户界面

##### UI1 首页界面

帮助用户使用首页页面了解影院影库的相关信息

###### UI1.1

在用户打开上架管理界面时，默认显示热映电影、即将上映电影，票房统计电影的排行榜、最受欢迎电影排行榜

###### UI1.2

在用户点击票房统计和最受欢迎电影排行榜中的电影时，跳转至该电影的电影详情界面。

###### UI1.3

在用户点击热映电影轮播框中的图片时，跳转至相应电影的电影详情界面。

##### UI2 历史记录界面

帮助观众查看自己的历史消费记录和历史充值记录

###### UI1.1

在观众打开历史记录界面时，默认展示购买记录和充值记录的列表

###### UI1.2

在观众点击历史购买记录的详情时，展示此笔订单的详情信息

##### UI3 退票界面

帮助观众进行退票

###### UI3.1

观众进入退票界面，可以看到自己的电影票，选择想要退的电影票。

###### UI3.2

观众点击退票按钮，弹出询问弹窗，点击确定则提示退票是否成功，成功则跳转至更新的退票界面，点击取消退回上一个界面。

#### 3.1.2 管理员界面

##### UI1 影院管理界面

帮助影院管理员使用影院管理页面完成影厅的增删改查和用户可见日期的设置

###### UI1.1

在管理员打开影院管理界面时，默认打开所有影厅的总览界面，能够看到影厅的名称、行数、列数。

###### UI1.2

在管理员选择新增电影按钮时，将打开新增电影表单，能够新增影厅，需要输入影厅的名称、行、列，并保证行和列都是数字，影厅名称没有重复。

###### UI1.3

在管理员选择修改电影按钮时，将打开修改电影表单，能够修改影厅，需要输入修改的影厅的行、列，并保证行和列都是数字，影厅不在使用中。

###### UI1.4

在管理员选择删除电影按钮时，将打开删除电影表单，能够删除影厅，需要影厅不在使用中。

##### UI2 影券管理界面

帮助影院管理员发放无门槛优惠券

###### UI1.1

在影院管理员打开影券管理界面时，可以看到默认的无门槛优惠券、筛选用户条件、默认的用户列表。

###### UI1.2

影院管理员可以修改无门槛优惠券优惠金额、最低金额

###### UI1.3

在无门槛优惠券和最低金额被修改后更新待选用户列表

###### UI1.4

影院管理员选好赠送优惠券的人员名单后，点击确认赠送按钮。向这些会员赠送无门槛优惠券。

##### UI3 管理员工界面

帮助影院管理员管理影院员工。

###### UI3.1

管理员进入管理员工界面，可以看到已有的管理员账号信息，包括员工id，员工用户名以及员工密码。

###### UI3.2

管理员点击增加账户按钮，弹出增加账户的表单，填写新增的员工的用户名和密码。

###### UI3.3

管理员点击表单的确认按钮，跳转至更新的管理员工界面，点击取消按钮，退回上一个界面。

###### UI3.4

管理员点击某一员工的账号信息，弹出修改员工账号的表单，点击确认或删除则跳转至更新的管理员工界面，点击取消则退回上一级界面。

##### UI4 管理优惠活动界面

帮助影院管理员进行新增、修改、删除优惠活动

###### UI4.1

管理员进入优惠活动界面，可以看到已有的优惠活动

###### UI4.2

管理员点击发布活动按钮，弹出发布活动表单，管理员填写活动信息，包括活动名称、活动描述、开始日期、结束日期、奖券名称、奖券描述、需满金额、优惠金额、参与电影，点击确认跳转至更新的优惠活动界面，点击取消退回上一个界面。

###### UI4.3

管理员点击某一活动，弹出修改活动表单，管理员修改活动信息，点击确认或点击删除，则跳转至更新的优惠活动界面，点击取消退回上一个界面。

##### UI5 会员卡策略界面

帮助管理员管理会员卡策略

###### UI5.1

管理员进入会员卡策略界面，可以看到当前的会员卡策略。

###### UI5.2

点击修改按钮，弹出修改表单，管理员点击确认，跳转至更新的会员卡策略界面，点击取消则退回上一级界面。

##### UI6 退票策略界面

帮助管理员管理退票策略

###### UI6.1

管理员进入退票策略界面，可以看到当前的退票策略。

###### UI6.2

点击修改按钮，弹出修改表单，管理员点击确认，跳转至更新的退票策略界面，点击取消则退回上一级界面。

#### 3.1.3 售票员界面

帮助售票员选择电影。

##### UI1 选择电影界面

###### UI1.1

售票员进入选择电影界面时，可以看到所有电影。

###### UI1.2

售票员点击详情时，跳转至电影详情界面。

##### UI2 电影详情界面

###### UI2.1

售票员进入电影详情界面时，可以看到该电影的详情信息和排片信息。点击选座购票按钮，跳转至选座界面。

##### UI3 选座界面

###### UI3.1

售票员进入选座界面，可以看到影院的座位信息和电影订单的信息，点击座位图片进行选座，完成选座后点击确定下单按钮，跳转至确认订单界面。

##### UI4 确认订单界面

###### UI4.1

售票员进入确认订单界面时，可以看到订单的电影名、场次、票数、座位、单价、总价、可用的优惠券、优惠金额和实付款。点击立即支付界面，跳出付款表单。

###### UI4.2

售票员让用户填写付款表单，点击确认支付按钮，跳转至支付成功界面。点击取消，不进行跳转。

##### UI5 支付成功界面

###### UI5.1

提示售票员支付成功。



### 3.2 功能需求

#### 3.2.1  影厅信息用例

##### 3.2.1.1 特征描述

在电影院改变了影院构造以后，一个有经验的客户经理开始修改影厅信息，完成影厅信息的增删改查。

优先级：高

##### 3.2.1.2 刺激/响应序列

刺激：客户经理录入一个新影厅

响应：系统弹出表单（新增影厅信息填写页面）

刺激：客户经理输入影厅的信息，包括名称、行数、列数

响应：系统在数据库中添加新的影厅信息

刺激：客户经理删除一个影厅

响应：系统删除该影厅在数据库中的信息

刺激：客户经理修改一个影厅

响应：系统弹出表单（修改影厅信息填写页面）

刺激：客户经理输入影厅的信息，包括行数、列数

响应：系统在数据库中修改新的影厅信息

##### 3.2.1.3 相关功能需求

|             |                                            |
| ----------- | ------------------------------------------ |
| hall.add    | 系统允许客户经理新增一个新影厅             |
| hall.change | 系统允许客户经理修改一个影厅（在无排片时） |
| hall.delete | 系统允许客户经理删除一个影厅（在无排片时） |

#### 3.2.2  历史记录用例

##### 3.2.2.1 特征描述

系统根据用户的历史，查看数据库，向用户展示他的消费记录和充值记录

优先级：低

##### 3.2.2.2 刺激/响应序列

刺激：进入历史消费记录页面

响应：系统显示历史消费记录列表

刺激：进入历史充值记录页面

响应：系统显示历史充值记录列表

##### 3.2.2.3 相关功能需求

|                          |                          |
| ------------------------ | ------------------------ |
| history.getChargeHistory | 得到某用户的历史充值巨鹿 |
| history.getSaleHistory   | 得到某用户的历史消费记录 |

#### 3.2.3  赠送优惠券详情

##### 3.2.3.1 特征描述

当用户的消费达到一定金额，客户经理会向用户赠送无门槛优惠券。

优先级：低

##### 3.2.3.2 刺激/响应序列

刺激：经理设置无门槛优惠券金额

响应：系统显示当前的无门槛优惠券优惠金额

刺激：经理设置最低消费金额

相应：系统显示当前的最低消费金额、根据该最低消费金额筛选出来的用户列表

刺激：经理选择某会员

相应：该会员后的复选框被打上对勾

刺激：点击确定赠送

相应：系统将优惠券发放给这些会员

##### 3.2.3.3 相关功能需求

|                  |                            |
| ---------------- | -------------------------- |
| coupon.getNum    | 展示当前的无门槛优惠券金额 |
| coupon.change    | 更改无门槛优惠券金额       |
| coupon.allMember | 筛选出所有满足条件         |

#### 3.2.4 排行榜用例

##### 3.2.4.1 特性描述

在观众进入首页时，系统会展示当前的最受欢迎电影和最高票房电影的排行榜

优先级：低

##### 3.2.4.2 刺激/响应序列

刺激：用户点击首页

响应：系统显示排行榜

##### 3.2.4.3 相关功能需求

|                          |                      |
| ------------------------ | -------------------- |
| schedule.getPlacingRate  | 得到票房排名         |
| schedule.getPopularMovie | 得到最受欢迎电影排名 |

#### 3.2.5 管理用户用例

##### 3.2.5.1 特性描述

在管理员进入管理用户界面时，系统会显示已有的员工信息。

优先级：高

##### 3.2.5.2 刺激/响应序列

刺激：管理员点击增加账户

响应：系统弹出增加账户表单

刺激：管理员点击员工信息

响应：系统弹出修改账户表单

刺激：管理员点击确认或者删除

响应：系统跳转至更新的管理账户界面

刺激：管理员点击取消

响应：系统退回上一级界面

##### 3.2.5.3 相关功能需求

|                               |                  |
| ----------------------------- | ---------------- |
| account.searchAllAdminAccount | 得到所有员工账号 |
| account.addAdminAccount       | 新增员工账号     |
| account.changeAdminAccount    | 修改员工帐号     |
| account.deleteAdminAccount    | 删除员工账号     |

#### 3.2.6 管理优惠活动用例

##### 3.2.6.1 特性描述

在管理员进入管理优惠活动界面时，系统会显示已有的活动信息。

优先级：高

##### 3.2.6.2 刺激/响应序列

刺激：管理员点击发布活动

响应：系统弹出增加活动表单

刺激：管理员点击活动信息

响应：系统弹出修改活动表单

刺激：管理员点击确认或者删除

响应：系统跳转至更新的管理活动界面

刺激：管理员点击取消

响应：系统退回上一级界面

##### 3.2.6.3 相关功能需求

|                          |                  |
| ------------------------ | ---------------- |
| activity.getActivities   | 得到所有优惠活动 |
| activity.publishActivity | 发布优惠活动     |
| activity.updateActivity  | 修改优惠活动     |
| activity.deleteActivity  | 删除优惠活动     |

#### 3.2.7 管理会员卡策略用例

##### 3.2.7.1 特性描述

在管理员进入管理会员卡策略界面时，系统会显示已有的会员卡策略信息。

优先级：高

##### 3.2.7.2 刺激/响应序列

刺激：管理员点击修改策略

响应：系统弹出修改策略表单

刺激：管理员点击确认

响应：系统跳转至更新的管理策略界面

刺激：管理员点击取消

响应：系统退回上一级界面

##### 3.2.7.3 相关功能需求

|                   |                        |
| ----------------- | ---------------------- |
| vip.getVIPInfo    | 得到会员卡优惠策略信息 |
| vip.updateVIPInfo | 修改会员卡优惠策略信息 |

#### 3.2.8 管理退票策略用例

##### 3.2.8.1 特性描述

在管理员进入管理退票策略界面时，系统会显示已有的退票策略信息。

优先级：高

##### 3.2.8.2 刺激/响应序列

刺激：管理员点击修改策略

响应：系统弹出修改策略表单

刺激：管理员点击确认

响应：系统跳转至更新的管理策略界面

刺激：管理员点击取消

响应：系统退回上一级界面

##### 3.2.8.3 相关功能需求

|                      |                  |
| -------------------- | ---------------- |
| refund.getRefundInfo | 得到退票策略信息 |
| refund.updateRefund  | 修改退票策略信息 |

#### 3.2.9 观众退票用例

##### 3.2.9.1 特性描述

在观众进入退票界面时，系统会显示观众的电影票。

优先级：高

##### 3.2.9.2 刺激/响应序列

刺激：观众选择电影票，点击退票

响应：系统弹出确认提示

刺激：观众点击确认

响应：系统提示退票是否成功，若成功，则跳转至更新的退票界面

刺激：观众点击取消

响应：系统退回上一级界面

##### 3.2.9.3 相关功能需求

|                   |          |
| ----------------- | -------- |
| refund.refundById | 进行退票 |

### 3.3 非功能需求

#### 3.3.1 安全性



#### 3.2.2 可维护性



#### 3.2.3 可靠性



#### 3.2.4 约束



### 3.4  数据需求

#### 3.4.1  数据定义



#### 3.4.2  默认数据



#### 3.4.3  数据格式要求



### 3.5  其他需求

安装需求：

Install1：安装系统时，要初始化系统、影片库存等重要数据

Install2：系统投入使用时，要对影院工作人员进行一周的集中培训