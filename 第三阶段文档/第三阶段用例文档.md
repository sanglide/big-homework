# 第三阶段用例文档



# 目录

1. 引言

2. 总图

   2.1 概念总图

   2.2 用例总图

   2.3 状态总图

3. 用例列表

4. 详细用例描述

5. 需求分析模型

   5.1 系统顺序图

   5.2 概念类图

   5.3 状态图



## 1 . 引言

	此小节将介绍文档的相关信息，目的在于将第一阶段的用例文档化，记录、交流领域信息与用户期望，传达有关问题域的必要信息以及涉众要求，帮助项目交流。
	
	该系统用于影院与观众使用，旨在帮助影院进行影片管理与售票，帮助用户了解电影信息以及购票等。该文档主要描述了第三阶段的需求。

## 2. 总图
### 2.1 概念总图

![](https://b-ssl.duitang.com/uploads/item/201906/19/20190619201050_tmcRC.thumb.700_0.jpeg)

### 2.2 用例总图

![](http://imglf4.nosdn0.126.net/img/YTZ5Uk4rSEFRR1JVNWs5aDZQaUlKaFBBdTZNd1JlREx5WFNXZ0QrQlp4ZytCc2hZWnN0ZE5nPT0.png?imageView&thumbnail=500x0&quality=96&stripmeta=0)

### 2.3 状态总图

![](http://imglf5.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMUkVVZ1RBRDd0Q1BoZ3U0OFBmZ2xBRVBmTE9GWE1DNDBBPT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

![](http://imglf4.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMVFFJclR4SE9kN29FbUVEaGUveU1MVGVHRmFUalI4b053PT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

![](http://imglf5.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMZlNadDk4K1lXcmNMK1pMdjJ2cDNoVXdEYmxTQXl5b3F3PT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

## 3. 用例列表

* 影厅信息录入
* 修改影厅信息
* 删除影厅信息
* 查看历史充值
* 查看历史消费
* 赠送优惠券
* 电影票房排行榜
* 最受欢迎电影排行榜
* 增删改查影院员工
* 售票员售票
* 观众退票
* 修改优惠活动
* 删除优惠活动
* 修改会员卡策略
* 修改退票策略

## 4. 详细用例描述

### 4.1 影厅信息录入

- 用例编号：      01
- 名称：影厅信息录入                                                  
- 创建者：张洁芮
- 创建日期：2019年6月10
- 最后一次更新者：张洁芮
- 更新日期：2019年6月10
- 参与者 ：影院管理员，目标是新增影厅信息，使影院规模扩大。
- 触发条件：无
- 前置条件：
  1. 影院管理员必须被识别和授权
- 后置条件：系统更新影厅信息
- 优先级：低
- 正常流程：
  1. 客户经理添加影厅信息（影厅名称、排数、列数）
  2. 客户经理点击确定
- 扩展流程：
  2a.  系统检查输入信息是否正确（如数据类型是否符合、影厅名称是否有重复）
      2. 系统提示信息错误
          3. 客户经理重新输入
- 特殊需求：无
### 4.2 修改影厅信息
- 用例编号：      02
- 名称：修改影厅信息                                                
- 创建者：张洁芮
- 创建日期：2019年6月10
- 最后一次更新者：张洁芮
- 更新日期：2019年6月10
- 参与者 ：影院管理员，目标是修改影厅信息，适应影院的装修变化。
- 触发条件：无
- 前置条件：
  1. 影院管理员必须被识别和授权
- 后置条件：系统更新影厅信息
- 优先级：低
- 正常流程：
  1. 客户经理选择需要修改的影厅，录入影厅新的信息（排数、列数）
  2. 客户经理点击确定
- 扩展流程：
  2a.  系统检查输入信息是否正确（如数据类型是否符合）
      2. 系统提示信息错误
          3. 客户经理重新输入
- 特殊需求：无
### 4.3 删除影厅信息
- 用例编号：      03
- 名称：删除影厅信息                                                  
- 创建者：张洁芮
- 创建日期：2019年6月10
- 最后一次更新者：张洁芮
- 更新日期：2019年6月10
- 参与者 ：影院管理员，目标是删除影厅信息，适应影院的变化。
- 触发条件：无
- 前置条件：
  1. 影院管理员必须被识别和授权
- 后置条件：系统更新影厅信息
- 优先级：低
- 正常流程：
  1. 客户经理选择影厅并删除影厅信息（影厅名称、排数、列数）
  2. 客户经理点击确定
- 扩展流程：无
- 特殊需求：无
### 4.4 查看历史充值
- 用例编号：      04
- 名称：查看历史充值                                              
- 创建者：张洁芮
- 创建日期：2019年6月10
- 最后一次更新者：张洁芮
- 更新日期：2019年6月10
- 参与者 ：观众，目标是查看历史充值记录，了解自己的会员卡充值历史。
- 触发条件：无
- 前置条件：
  1. 观众必须被识别和授权
- 后置条件：无
- 优先级：低
- 正常流程：
  1. 观众点击页面右上角的头像下拉列表中的“历史记录”；
  2. 用户查看历史充值记录（充值日期、金额、余额）
- 扩展流程：无
- 特殊需求：无
### 4.5 查看历史消费
- 用例编号：      05

- 名称：查看历史消费                                         

- 创建者：张洁芮

- 创建日期：2019年6月10

- 最后一次更新者：张洁芮

- 更新日期：2019年6月10

- 参与者 ：观众，目标是查看历史消费记录，了解自己的订单信息。

- 触发条件：无

- 前置条件：

  1. 观众必须被识别和授权

- 后置条件：无

- 优先级：低

- 正常流程：
  1. 观众点击页面右上角的头像下拉列表中的“历史记录”；
  2. 用户查看历史购买记录（购买日期、电影票ID、支付状态）

- 扩展流程：
  2a.  用户点击“详情”

  	2. 系统展示此笔订单的详情（电影名称、购买日期、购买状态、消费金额、影厅位置、座位位置）

- 特殊需求：无
### 4.6 赠送优惠券
- 用例编号：      06
- 名称：赠送优惠券                                         
- 创建者：张洁芮
- 创建日期：2019年6月10
- 最后一次更新者：张洁芮
- 更新日期：2019年6月10
- 参与者 ：影院管理员，目标是赠送优惠券会员给达到一定消费金额的，使促进消费。
- 触发条件：无
- 前置条件：
  1. 影院管理员必须被识别和授权
- 后置条件：系统向选定的用户发放无门槛优惠券
- 优先级：低
- 正常流程：
  1. 影院管理员设置无门槛优惠券的金额
  2. 影院管理员设置用户消费的最低金额（以便筛选出符合条件的用户）
  3. 影院管理员选择符合条件的用户并向他们赠送优惠券
- 扩展流程：无
- 特殊需求：无
### 4.7 电影票房排行榜
- 用例编号：      07

- 名称：电影票房排行榜                                                 

- 创建者：张洁芮

- 创建日期：2019年6月10

- 最后一次更新者：张洁芮

- 更新日期：2019年6月10

- 参与者 ：无

- 触发条件：无

- 前置条件：

  1. 用户必须被识别和授权

- 后置条件：系统更新电影票房排行榜

- 优先级：低

- 正常流程：

  1. 用户点击系统的“首页”

- 扩展流程：

  	1a. 用户点击电影名称

    	   2.跳转到电影详情界面

- 特殊需求：无
### 4.8 最受欢迎电影排行榜
- 用例编号：      08

- 名称：最受欢迎电影排行榜                                                 

- 创建者：张洁芮

- 创建日期：2019年6月10

- 最后一次更新者：张洁芮

- 更新日期：2019年6月10

- 参与者 ：无

- 触发条件：无

- 前置条件：

  1. 用户必须被识别和授权

- 后置条件：系统更新最受欢迎电影排行榜

- 优先级：低

- 正常流程：

  1. 用户点击系统的“首页”

- 扩展流程：

  	1a. 用户点击电影名称

    	   2.跳转到电影详情界面

- 特殊需求：无

### 4.9 增删改查影院员工

- 用例编号：09

- 名称：增删改查影院员工                                                         

- 创建者：张亦池

- 创建日期：2019/06/10

- 最后一次更新者：

- 更新日期：

- 参与者 ：影院管理员

- 触发条件：无

- 前置条件：影院管理员获得系统授权

- 后置条件：系统存储最新的影院员工的账号信息

- 优先级：高

- 正常流程：

  1. 影院管理员增加影院员工的账号信息
  2. 影院管理员修改或删除影院员工的账号信息

- 扩展流程：

  ​	1a.影院管理员增加已存在的员工的信息时，系统提醒账户已存在，并返回正常流程1

  ​	1b.影院管理员新增的员工用户民不以正斜杠开头，系统提醒用户名应以正斜杠开头，并返回正常流程1

- 特殊需求：影院员工的用户名必须以正斜杠开头，和观众账户作区分



### 4.10 售票员售票

- 用例编号：10
- 名称：售票员售票                                                  
- 创建者：张亦池
- 创建日期：2019/06/10
- 最后一次更新者：
- 更新日期：
- 参与者 ：影院员工（售票员）
- 触发条件：有观众前来买票
- 前置条件：影院员工已登入电影院售票系统
- 后置条件：打印电影票
- 优先级：高
- 正常流程：
  1. 系统显示影院的某一电影场次信息，包括起始时间、价格、影厅、版本（原版/国语；2D/3D）
  2. 售票员点击某一场次的选座购票
  3. 系统显示选座界面，售票员进行选座，勾选目标座位
  4. 售票员点击确认选座，进入订单确认界面，系统自动选择最优惠策略
  5. 系统显示订单信息，包括价格、座位信息、时间信息、影片信息等
  6. 售票员确认订单
  7. 售票员让观众使用银行卡支付，系统跳转银行卡支付界面，支付订单
  8. 观众输入密码，支付成功
- 特殊需求：点击选座界面上的确认下单后座位即被锁定



### 4.11 观众退票

- 用例编号：11

- 名称：观众退票                                                 

- 创建者：张亦池

- 创建日期：2019/06/10

- 最后一次更新者：

- 更新日期：

- 参与者 ：观众

- 触发条件：观众想要退票

- 前置条件：观众买过电影票

- 后置条件：系统提示观众退票是否成功

- 优先级：高

- 正常流程：

  1. 系统显示观众的电影票，包括订单id、电影名称、影厅名、座位、放映时间、结束时间、状态、实付款、退票返还金额
  2. 观众勾选想要退的票，点击确认退票
  3. 系统提示是否要退票
  4. 观众确认退票后，系统提示观众退票是否成功，跳转至观众的电影票界面

- 扩展流程：

  ​	4a.观众的电影票的状态不是已完成或者电影票已经不满足退票策略，则系统提示观众退票不成功



### 4.12 修改优惠活动

- 用例编号：12
- 名称：修改优惠活动                                                    
- 创建者：张亦池
- 创建日期：2019/06/10
- 最后一次更新者：
- 更新日期：
- 参与者 ：影院管理员
- 触发条件：影院优惠活动发生改变
- 前置条件：该优惠活动已存在
- 后置条件：该优惠活动被修改
- 优先级：中
- 正常流程：
  1. 系统展示影院优惠活动
  2. 管理员选择修改某优惠活动
  3. 系统提示修改成功
- 特殊需求：
  1. 活动名称、活动描述、奖券名称、奖券描述不可修改

### 4.13 删除优惠活动

- 用例编号：13
- 名称：删除优惠活动                                                         
- 创建者：张亦池
- 创建日期：2019/06/10
- 最后一次更新者：
- 更新日期：
- 参与者 ：影院管理员
- 触发条件：影院优惠活动需要删除
- 前置条件：该优惠活动已存在
- 后置条件：该优惠活动被删除
- 优先级：中
- 正常流程：
  1. 系统展示影院优惠活动
  2. 管理员选择删除优惠活动
  3. 系统提示删除成功



### 4.14 修改会员卡策略

- 用例编号：14
- 名称：修改会员卡策略                                                         
- 创建者：张亦池
- 创建日期：2019/06/10
- 最后一次更新者：
- 更新日期：
- 参与者 ：影院管理员
- 触发条件：会员卡策略需要被修改
- 前置条件：会员卡策略已存在
- 后置条件：会员卡策略被修改
- 优先级：中
- 正常流程：
  1. 系统展示会员卡策略
  2. 管理员选择修改会员卡策略
  3. 系统提示修改成功



### 4.15 修改退票策略

- 用例编号：15
- 名称：                                                         
- 创建者：张亦池
- 创建日期：2019/06/10
- 最后一次更新者：
- 更新日期：
- 参与者 ：影院管理员
- 触发条件：退票策略需要修改
- 前置条件：退票策略已存在
- 后置条件：退票策略被修改
- 优先级：中
- 正常流程：
  1. 系统展示退票策略
  2. 管理员选择修改退票策略
  3. 系统提示修改成功



## 5. 需求分析模型 

### 5.1 系统顺序图

#### 5.1.1 影厅增删改查

 ![](http://imglf3.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMU29KTXZjT2IwTTJGcy85Nmk4MFhjeTAzWEFWRzNBTVBBPT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)
#### 5.1.2 影券管理
![](http://imglf6.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMYythS2ZhSjN0SFo5aEZxOGU3clAweVN4OFpkeXg0d1pRPT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)



#### 5.1.9 增删改查影院员工

![](https://b-ssl.duitang.com/uploads/item/201906/11/20190611194933_8wl8X.jpeg)

#### 5.1.10 售票员售票

![](https://b-ssl.duitang.com/uploads/item/201906/11/20190611194933_CtjTh.thumb.700_0.jpeg)

#### 5.1.11 观众退票

![](https://b-ssl.duitang.com/uploads/item/201906/11/20190611211937_ljuzv.thumb.700_0.jpeg)

#### 5.1.12 修改优惠活动

![](https://b-ssl.duitang.com/uploads/item/201906/11/20190611213103_3AVAM.thumb.700_0.jpeg)

#### 5.1.13 删除优惠活动

![](https://b-ssl.duitang.com/uploads/item/201906/11/20190611214622_jGxQm.thumb.700_0.jpeg)

#### 5.1.14 修改会员卡策略

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612153829_5VfAL.thumb.700_0.jpeg)

#### 5.1.15 修改退票策略

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612153829_TRTNn.thumb.700_0.jpeg)



### 5.2 概念类图

#### 5.2.1 历史记录

![](http://imglf5.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMVjNNMDRycndVdldlVUlEdWFLRThGZVFUS1N3b1RYUEZnPT0.png?imageView&thumbnail=500x0&quality=96&stripmeta=0)

#### 5.2.2影券管理
![](http://imglf4.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMVWJYUDRsSnhqQW9EZUwrNHNDUG1FNlZQS2hqU2RpWFlnPT0.png?imageView&thumbnail=500x0&quality=96&stripmeta=0)

#### 5.2.9 增删改查影院员工

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_nffzK.thumb.700_0.jpeg)

#### 5.2.10 售票员售票

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_K2RuZ.thumb.700_0.jpeg)

#### 5.2.11 观众退票

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_auzCN.thumb.700_0.jpeg)

#### 5.2.12 修改优惠活动

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_G4Vhk.thumb.700_0.jpeg)

#### 5.2.13 删除优惠活动

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_8r5Pr.thumb.700_0.jpeg)

#### 5.2.14 修改会员卡策略

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_xeJsw.thumb.700_0.jpeg)

#### 5.2.15 修改退票策略

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612165934_iTfnk.thumb.700_0.jpeg)



### 5.3 状态图

#### 5.3.1 影厅信息的增删改查

![](http://imglf4.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMWENMS2EwSXFveWM4b0JTWGlhdk1WQUhqeGJuV0FMWnV3PT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

#### 5.3.2 退票

![](http://imglf5.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMYVRFMnJMWWFVazl4VkdaK3BUVHJCOWxRMGlRQndBVmt3PT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

#### 5.3.2 电影票房排行榜、最受欢迎电影排行榜

 ![](http://imglf4.nosdn0.126.net/img/YTZ5Uk4rSEFRR1E3NTUrS3BueHNMYVRFMnJMWWFVazlnWUowQTkwWUFSazZmQ3o0eXBKdDRRPT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

#### 5.3.10 售票员售票

![](https://b-ssl.duitang.com/uploads/item/201906/12/20190612172601_km8PU.thumb.700_0.jpeg)



