# 第三阶段接口规范

### 影院管理(hallController)

| 用例     | 28 影厅信息录入 |
| -------- | --------------- |
| 类型     | postRequest     |
| url      | hall/add        |
| 传递数据 | hallForm        |
| 返回值   | 无              |
| 编辑人   | 张洁芮          |

| 用例     | 29 修改影厅信息 |
| -------- | --------------- |
| 类型     | postRequest     |
| url      | hall/change     |
| 传递数据 | hallForm        |
| 返回值   | 无              |
| 编辑人   | 张洁芮          |

##### 其他说明

在后端还需要生成每个影院的id

### 历史记录（Controller需要新建）

| 用例     | 32 查看历史充值记录    |
| -------- | ---------------------- |
| 类型     | getRequest             |
| url      |                        |
| 传递数据 | HistoryForm的数组      |
| 参数     | int id（用户的userId） |
| 编辑人   | 张洁芮                 |

| 用例     | 33 查看历史消费记录    |
| -------- | ---------------------- |
| 类型     | getRequest             |
| url      |                        |
| 传递数据 | HistoryForm的数组      |
| 参数     | int id（用户的userId） |
| 编辑人   | 张洁芮                 |

##### 其他说明

由于还有详情选项，后端还需要存储每一笔订单更为详细的信息

### 优惠券修改、删除（ActivityController）

| 用例                 | 修改活动（优惠券）                               |
| -------------------- | ------------------------------------------------ |
| 类型                 | postRequest                                      |
| url                  | /activity/update(需要在ActivityController里新增) |
| 前端传给后端的数据   | ActivityVO                                       |
| 后端返回给前端的数据 | ResponseVO.buildSuccess()（相当于没有数据返回）  |
| 前端                 | 张亦池                                           |
| 后端                 |                                                  |



| 用例                 | 删除活动（优惠券）                                       |
| -------------------- | -------------------------------------------------------- |
| 类型                 | deleteRequest                                            |
| url                  | /activity/delete/batch(需要在ActivityController里新增)   |
| 前端传给后端的数据   | ActivityBatchDeleteForm(已新建，如果没看到请提醒我push~) |
| 后端返回给前端的数据 | ResponseVO.buildSuccess()（相当于没有数据返回）          |
| 前端                 | 张亦池                                                   |
| 后端                 |                                                          |

### 会员卡修改（VIPCardController)

| 用例             | 修改会员卡                |
| ---------------- | ------------------------- |
| 类型             | postRequest               |
| url              | /vip/update               |
| 前端传给后端的   | VIPInfoVO                 |
| 后端返回给前端的 | ResponseVO.buildSuccess() |
| 前端             | 张亦池                    |
| 后端             |                           |

### 退票策略修改(TicketController)

| 用例             | 新增退票策略              |
| ---------------- | ------------------------- |
| 类型：           | postRequest               |
| url:             | /ticket/refund/add        |
| 前端传给后端的   | TicketRefundVO            |
| 后端返回给前端的 | ResponseVO.buildSuccess() |
| 前端             | 张亦池                    |
| 后端             |                           |

| 用例             | 修改退票策略              |
| ---------------- | ------------------------- |
| 类型：           | getRequest                |
| url:             | /ticket/refund/update     |
| 前端传给后端的   | TicketRefundVO            |
| 后端返回给前端的 | ResponseVO.buildSuccess() |
| 前端             | 张亦池                    |
| 后端             |                           |

| 用例             | 查看退票策略 |
| ---------------- | ---------------------- |
| 类型             | getRequest   |
| url              | /ticket/refund/getInfo |
| 前端传给后端的   | 无           |
| 后端返回给前端的 | TicketRefundVO         |
| 前端             | 张亦池       |
| 后端             |        |

### 发放优惠券（用例34 CouponController）

| 用例             | 展示无门槛优惠券优惠金额 |
| ---------------- | ------------------------ |
| 类型             | getRequest               |
| url              | /coupon/getNum           |
| 前端传给后端的   | 无                       |
| 后端返回给前端的 | CouponNumForm            |
| 前端             | 张洁芮                   |
| 后端             |                          |

| 用例             | 更改优惠券金额 |
| ---------------- | -------------- |
| 类型             | postRequest    |
| url              | /coupon/change |
| 前端传给后端的   | CouponNumForm  |
| 后端返回给前端的 | 无             |
| 前端             | 张洁芮         |
| 后端             |                |

| 用例             | 得到所有满足条件的会员 |
| ---------------- | ---------------------- |
| 类型             | getRequest             |
| url              | /coupon/allMember      |
| 前端传给后端的   | 无                     |
| 后端返回给前端的 | userVO的list           |
| 前端             | 张洁芮                 |
| 后端             |                        |

